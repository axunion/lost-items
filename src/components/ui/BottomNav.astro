---
import { Home, List, Plus } from "lucide-solid";

const currentPath = Astro.url.pathname;

const isActive = (path: string) => {
	if (path === "/" && currentPath === "/") return true;
	if (path !== "/" && currentPath.startsWith(path)) return true;
	return false;
};

const navItems = [
	{ href: "/", label: "Home", icon: Home },
	{ href: "/create", label: "New", icon: Plus },
	{ href: "/history", label: "History", icon: List },
];
---

<nav class="fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border">
  <div class="max-w-lg mx-auto flex h-16 items-center justify-around px-4">
    {navItems.map((item) => {
      const active = isActive(item.href);
      const Icon = item.icon;

      return (
        <a
          href={item.href}
          class={`flex flex-col items-center gap-1 px-4 py-2 rounded-lg ${
            active
              ? "text-primary font-medium"
              : "text-muted-foreground hover:text-foreground"
          }`}
        >
          <Icon class="size-5" />
          <span class="text-xs">{item.label}</span>
        </a>
      );
    })}
  </div>
</nav>
